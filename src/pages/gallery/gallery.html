<!--
  Generated template for the GalleryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="animated fadeIn no-shadow header header-md">

  <ion-navbar color="purple">
    <ion-title>Galerie</ion-title>
    <button ion-button="" menuToggle="">
      <ion-icon name="menu"></ion-icon>
    </button>
  </ion-navbar>

</ion-header>

<ion-content class="animated fadeIn common-bg content content-md">
  <div class="fixed-content" style="margin-top: 56px;"></div>
  <!--<div class="scroll-content" >-->
  <div>
    <div class="gallery-card marginB-16px">
      <ion-grid class="card grid" fixed="">
        <!--Start search keyword-->
        <ion-row class="row">
          <ion-col class="no-padding col">
            <ion-searchbar
              [(ngModel)]="keyWord"
              [showCancelButton]="shouldShowCancel"
              autocomplete="on"
              autocorrect="on"
              placeholder="Chercher une image">
            </ion-searchbar>
            <!---->
          </ion-col>
        </ion-row>
        <!--End search keyword-->

        <!--Start sarching parameters-->
          <!--Start first-button-->
          <ion-row class="row">
            <ion-col class="no-paddingT no-paddingB col" col-6="" col-md-4="">
              <div class="guests bb">
                <ion-item class="item item-block item-md item-select">
                  <ion-label class="label label-md">Orientation</ion-label>
                  <ion-select  [(ngModel)]="orientation" [compareWith]="orientationCompare" (ionChange)="onOrientationChange($event)" okText="Ok" cancelText="Annuler">
                    <ion-option *ngFor="let o of orientations" [value]="o" [selected]="o.value == 'all'">{{o.label}}</ion-option>
                  </ion-select>
                </ion-item>
              </div>
            </ion-col>
            <ion-col class="no-paddingT no-paddingB col" col-6="" col-md-4="">
              <div class="guests bb">
                <ion-item class="item item-block item-md item-select">
                  <ion-label class="label label-md">Cat√©gorie</ion-label>
                  <ion-select [(ngModel)]="category" [compareWith]="categoryCompare" (ionChange)="onCategoryChange($event)" okText="Ok" cancelText="Annuler">
                    <ion-option *ngFor="let c of categories" [value]="c" [selected]="c.value == 'nil'">{{c.label}}</ion-option>
                  </ion-select>
                </ion-item>
              </div>
            </ion-col>
          </ion-row>
          <!--End first-button-->
          <!--Start second-button-->
          <ion-row class="row">
            <ion-col class="no-paddingT no-paddingB col" col-6="" col-md-4="">
              <div class="guests bb">
                <ion-item class="item item-block item-md item-select">
                  <ion-label class="label label-md">Couleur</ion-label>
                  <ion-select  [(ngModel)]="color" [compareWith]="colorCompare" (ionChange)="onColorChange($event)" okText="Ok" cancelText="Annuler" multiple>
                    <ion-option *ngFor="let c of colors" [value]="c" >{{c.label}}</ion-option>
                  </ion-select>
                </ion-item>
              </div>
            </ion-col>
            <ion-col class="no-paddingT no-paddingB col" col-6="" col-md-4="">
              <div class="guests bb">
                <ion-item class="item item-block item-md item-select">
                  <ion-label class="label label-md" (click)="sizePrompt()">Taille</ion-label>
                </ion-item>
              </div>
            </ion-col>
          </ion-row>
          <!--End second-button-->
        <!--End sarching parameters-->

        <!--Start search Button-->
        <ion-row class="row">
          <ion-col class="col">
            <button block="" class="round button button-md button-default button-default-md button-block button-block-md button-md-primary" (click)="onSearch()" color="primary" ion-button="" tappable=""><span class="button-inner">
              <ion-icon name="search" role="img" class="icon icon-md ion-md-search" aria-label="search" ></ion-icon>
              Chercher
            </span><div class="button-effect" style="transform: translate3d(-5px, -97px, 0px) scale(1); height: 240px; width: 240px; opacity: 0; transition: transform 395ms, opacity 277ms 118ms;"></div></button>
          </ion-col>
        </ion-row>
        <!--End search Button-->
      </ion-grid>
    </div>
  </div>

  <div>
    <ion-card *ngFor="let img of images.hits">
      <ion-item>
        <ion-avatar item-start>
          <img src="{{img.userImageURL}}">
        </ion-avatar>
        <h2>{{img.user}}</h2>
        <p>{{img.user_id}}</p>
      </ion-item>

      <img src="{{img.previewURL}}" (click)="goToDetail(img)">

      <ion-card-content>
        <p>{{img.tags}}</p>
      </ion-card-content>

      <ion-row>
        <ion-col>
          <button ion-button icon-left clear small>
            <ion-icon name="eye"></ion-icon>
            <div>{{img.views}} Vues</div>
          </button>
        </ion-col>
        <ion-col>
          <button ion-button icon-left clear small>
            <ion-icon name="thumbs-up"></ion-icon>
            <div>{{img.likes}} Likes</div>
          </button>
        </ion-col>
        <ion-col>
          <button ion-button icon-left clear small>
            <ion-icon name="text"></ion-icon>
            <div>{{img.comments}} Comments</div>
          </button>
        </ion-col>
      </ion-row>

    </ion-card>

    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </div>
  
</ion-content>

